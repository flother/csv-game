---
box: 
  id: debian

build:
  steps:
    - script: 
      name: apt-get update
      code: apt-get update

    - install-packages:
      checkpoint: pkgs
      packages: r-base r-base-dev libopenblas-base ocaml openjdk-7-jdk openjdk-7-jre build-essential python python3 lua5.2 luajit golang ghc ruby libboost-dev libcsv-dev maven

      #- pip-install:
      #- requirements_file: ""
      #- package_list: "pandas"

    - script:
      name: Generate test data
      code: |
        ./test/generate_test.sh

    - script:
      name: run c
      code: |
          cd c
          ./build.sh
          cd ..
    - script:
      name: run c++-spirit
      code: |
          cd c++-spirit
          ./build.sh
          cd ..
    - script:
      name: run python2
      code: |
          cd python2
          ./build.sh
          cd ..
    - script:
      name: run python3
      code: |
          cd python3
          ./build.sh
          cd ..
    - script:
      name: run R
      code: |
          cd R
          ./build.sh
          cd ..
    - script:
      name: run go
      code: |
        cd go
        ./build.sh
        cd ..
    - script:
      name: run lua-lpeg
      code: |
        cd lua-lpeg
        ./build.sh
        cd ..
    - script:
      name: run luajit-ffi
      code: |
        cd luajit-ffi
        ./build.sh
        cd ..
    - script:
      name: run ruby
      code: |
        cd ruby
        ./build.sh
        cd ..
    - script:
      name: run java
      code: |
        cd java
        ./build.sh
        cd ..
